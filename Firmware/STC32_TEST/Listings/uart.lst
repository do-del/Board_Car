C251 COMPILER V5.60.0,  uart                                                               21/07/23  15:00:23  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE uart
OBJECT MODULE PLACED IN .\Objects\uart.obj
COMPILER INVOKED BY: C:\Keil_c251\C251\BIN\C251.EXE Src\uart.c LARGE INTR2 ROM(HUGE) BROWSE INCDIR(.\Inc) DEBUG PRINT(.\
                    -Listings\uart.lst) TABS(2) OBJECT(.\Objects\uart.obj) 

stmt  level    source

    1          #include "uart.h"
    2          
    3          void uart_init(void)
    4          {
    5   1        SCON = 0x50;
    6   1        T2L = BRT;
    7   1        T2H = BRT >> 8;
    8   1        S1BRT = 1;
    9   1        T2x12 = 1;
   10   1        T2R = 1;
   11   1        ES = 1;
   12   1      }
   13          
   14          void uart_send(char ch)
   15          {
   16   1        SBUF = ch;
   17   1        while(!TI);
   18   1      }
   19          
   20          void uart_sendStr(char *p)
   21          {
   22   1        while(*p)
   23   1        {
   24   2          uart_send(*p++);
   25   2        }
   26   1      }
   27          
   28          void uart_sendNum(unsigned long num)
   29          {
   30   1        unsigned char length = 0;
   31   1        unsigned char buf[32] = {0};
   32   1        while(num / 10)
   33   1        {
   34   2          buf[length++] = num % 10 + 48;
   35   2          num /= 10;
   36   2        }
   37   1        buf[length] = num + 48;
   38   1        
   39   1        while(length)
   40   1        {
   41   2          uart_send(buf[length--]);
   42   2        }
   43   1        uart_send(buf[length]);
   44   1      }
   45          
   46          void UartIsr() interrupt 4
   47          {
   48   1        if(TI)
   49   1        {
   50   2          TI = 0;
   51   2        }
   52   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =         4     ------
  ecode size           =       218     ------
  data size            =    ------     ------
C251 COMPILER V5.60.0,  uart                                                               21/07/23  15:00:23  PAGE 2   

  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------         32
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =        32     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
